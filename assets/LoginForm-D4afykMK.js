import{a as N,k as b,l as S,m as o,j as e,S as m}from"./index-4YVUTv9m.js";import{r as c}from"./vendor-react-DcqtUZ_G.js";import{x as i,H as l,K as t,i as d,V as I,W as h,y as E}from"./vendor-antd-BiNc4BQP.js";import"./vendor-ui-BASYQBt4.js";import"./vendor-utils-DcB4TerO.js";function R(){const{t:s}=N(),[u,r]=c.useState(!1),[a,x]=c.useState("email"),{loginState:p,setLoginState:g}=b(),j=S();if(p!==o.LOGIN)return null;const y=async({phone:n,email:w,password:v})=>{r(!0);try{await j({username:a==="phone"?n:w,password:v})}finally{r(!1)}},f=e.jsx("div",{className:"country-code-wrapper",children:e.jsx("span",{className:"text",children:"+61"})});return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 text-2xl font-bold xl:text-3xl",children:s("sys.login.signInFormTitle")}),e.jsxs(i.Group,{className:"login-switch",value:a,onChange:n=>x(n.target.value),children:[e.jsx(i.Button,{value:"email",className:"switch-item",children:e.jsxs("div",{className:"item-inner",children:[e.jsx(m,{icon:a==="email"?"email-active":"email",size:"14"}),"Email"]})}),e.jsx(i.Button,{value:"phone",className:"switch-item",children:e.jsxs("div",{className:"item-inner",children:[e.jsx(m,{icon:a==="phone"?"phone-active":"phone",size:"14"}),"Phone"]})})]}),e.jsxs(l,{name:"login",size:"large",layout:"vertical",className:"login-form",initialValues:{remember:!0,username:"",password:""},onFinish:y,children:[e.jsx("div",{className:"mb-4 flex flex-col"}),a==="phone"?e.jsx(l.Item,{name:"phone",label:s("sys.login.phone"),rules:[{required:!0,message:s("sys.login.phonePlaceholder")},{pattern:/^\d{9,}$/,message:"Phone number must be at least 9 digits!"}],children:e.jsx(t,{placeholder:"Enter",addonBefore:f,allowClear:!0})}):e.jsx(l.Item,{name:"email",label:s("sys.login.email"),rules:[{required:!0,message:s("sys.login.emailPlaceholder")}],children:e.jsx(t,{placeholder:"Enter"})}),e.jsx(l.Item,{name:"password",label:s("sys.login.password"),rules:[{required:!0,message:s("sys.login.passwordPlaceholder")}],children:e.jsx(t.Password,{type:"password",placeholder:"Enter"})}),e.jsx(d,{type:"primary",htmlType:"submit",className:"w-full",loading:u,children:s("sys.login.loginButton")}),e.jsxs(I,{align:"middle",className:"py-[22px]",children:[e.jsx(h,{span:12,children:e.jsx(l.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e.jsx(E,{children:s("sys.login.rememberMe")})})}),e.jsx(h,{span:12,className:"text-right",children:e.jsx(d,{type:"link",className:"!underline",onClick:()=>g(o.RESET_PASSWORD),size:"small",children:s("sys.login.forgetPassword")})})]})]})]})}export{R as default};
