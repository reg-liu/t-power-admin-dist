import{j as e,S as l}from"./index-CniMfLtV.js";import{r as t}from"./vendor-react-BcJS7s_i.js";import{c as w}from"./commonService-BuZqxaUn.js";import{e as k}from"./options-Jl_u_-Ln.js";import{K as v,w as r,i as o,F as N,z as C,a1 as S}from"./vendor-antd-DmtkV1Ch.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-BKiv1F2M.js";const{RangePicker:P}=S,{Option:D}=r,d=[{key:"1",id:"1234qwer",id_tag:"CP1234",start_time:"2024-12-05 14:30:45",end_time:"2024-12-05 14:30:45",duration:"2h",energy_type:"Charge",amount:"2",user:"Harry Potter"},{key:"2",id:"1234qwer",id_tag:"CP1234",start_time:"2024-12-05 14:30:45",end_time:"2024-12-05 14:30:45",duration:"2h",energy_type:"Discharge",amount:"2",user:"Harry Potter"},{key:"3",id:"1234qwer",id_tag:"CP1234",start_time:"2024-12-05 14:30:45",end_time:"2024-12-05 14:30:45",duration:"2h",energy_type:"Charge",amount:"2",user:"Harry Potter"}];function z(){const[n,i]=t.useState({}),[m,h]=t.useState(!1),[u,c]=t.useState(0),[x,y]=t.useState([]),p=()=>{h(!0)},j=[{title:"Record ID",dataIndex:"id",key:"id"},{title:"Charge Point",dataIndex:"id_tag",key:"id_tag"},{title:"Start Time",dataIndex:"start_time",key:"start_time"},{title:"End Time",dataIndex:"end_time",key:"end_time"},{title:"Duration",dataIndex:"duration",key:"duration"},{title:"Energy Type",dataIndex:"energy_type",key:"energy_type"},{title:"Amount(kWh)",dataIndex:"amount",key:"amount"},{title:"User",dataIndex:"user",key:"user"}],g=()=>{i({}),c(Date.now())},_=async()=>{const{detail:a}=await w.getUsers({num:100});y(a.results.map(s=>({name:`${s.first_name} ${s.last_name}`,phone:s.phone,email:s.email,user_id:s.user_id})))},f=()=>{};return t.useEffect(()=>{},[u]),t.useEffect(()=>{_(),c(Date.now())},[]),e.jsxs("div",{className:"main-content",children:[e.jsxs("div",{className:"search-area flex items-center justify-start",children:[e.jsxs("div",{className:"search-item",children:[e.jsx("div",{className:"mb-2",children:"Time Range"}),e.jsx(P,{className:"w-full",showTime:!0,format:"YYYY-MM-DD HH:mm"})]}),e.jsxs("div",{className:"search-item",children:[e.jsx("div",{className:"mb-2",children:"Charge Point"}),e.jsx(v,{className:"w-full",placeholder:"Enter"})]}),e.jsxs("div",{className:"search-item",children:[e.jsx("div",{className:"label",children:"Energy Type"}),e.jsx(r,{placeholder:"Select",allowClear:!0,style:{width:"210px"},onChange:a=>i({...n,energe_type:a}),children:k.map(a=>e.jsx(r.Option,{value:a,children:a},a))})]}),e.jsxs("div",{className:"search-item",children:[e.jsx("div",{className:"label",children:"User"}),e.jsx(r,{className:"w-full",allowClear:!0,value:n.user_id,style:{width:"150px"},onChange:a=>{i({...n,user_id:a})},placeholder:"User",children:x.map(a=>e.jsx(D,{value:a.user_id,children:a.name},a.name))})]}),e.jsx("div",{className:"search-btn",children:e.jsx(o,{icon:e.jsx(l,{icon:"Search",size:"20"}),type:"primary",loading:m,onClick:p})}),e.jsx("div",{className:"search-btn clear",children:e.jsx(o,{icon:e.jsx(l,{icon:"Close",size:"24",color:"#999"}),type:"primary",onClick:g})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"operation-area flex items-center justify-start",children:[e.jsx("span",{className:"mr-4 font-bold",children:"Charge Point Record"}),e.jsx(o,{type:"primary",icon:e.jsx(l,{icon:"Download",size:"20",color:"#FF4747"}),onClick:f,children:"Download"})]})}),e.jsx(N,{columns:j,bordered:!0,rowKey:"key",pagination:!1,dataSource:d}),e.jsx("div",{className:"mr-4 mt-4 flex justify-end",children:e.jsx(C,{total:d.length,showQuickJumper:!0})})]})}export{z as default};
