import{j as e}from"./index-w0xx-SVX.js";import{r as b}from"./vendor-react-DcqtUZ_G.js";import{O as s,J as C,I as r,U as y,w as i,Z as P,k as q,y as d}from"./vendor-antd-OFsw8wV_.js";import"./vendor-ui-BASYQBt4.js";import"./vendor-utils-Cfno4lyo.js";function L({visible:o,onCancel:c,onConfirm:m,locations:u}){const[n]=s.useForm(),[l,h]=b.useState([]),x=()=>{n.validateFields().then(t=>{m({...t,picture:l[0]})}).catch(t=>{})},p=({fileList:t})=>{h(t)},j=e.jsxs("div",{children:[e.jsx(d,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]});return e.jsx(C,{title:"Add New Chargepoint",visible:o,onCancel:c,onOk:x,okText:"Confirm",cancelText:"Cancel",width:600,children:e.jsxs(s,{form:n,layout:"vertical",children:[e.jsx(s.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name!"}],children:e.jsx(r,{})}),e.jsx(s.Item,{name:"cp_sn",label:"SN",rules:[{required:!0,message:"Please input the SN!"}],children:e.jsx(r,{})}),e.jsx(s.Item,{name:"picture",label:"Picture",children:e.jsx(y,{listType:"picture-card",fileList:l,onChange:p,beforeUpload:()=>!1,children:l.length>=1?null:j})}),e.jsx(s.Item,{name:"brand",label:"Brand",rules:[{required:!0,message:"Please input the brand!"}],children:e.jsx(r,{})}),e.jsx(s.Item,{name:"model",label:"Model",rules:[{required:!0,message:"Please input the model!"}],children:e.jsx(r,{})}),e.jsx(s.Item,{name:"charge_model",label:"Charge Model",rules:[{required:!0,message:"Please input the charge model!"}],children:e.jsx(r,{})}),e.jsx(s.Item,{name:"location",label:"Location",rules:[{required:!0,message:"Please select a location!"}],children:e.jsx(i,{children:u.map(t=>e.jsx(i.Option,{value:t.id,children:`${t.street}, ${t.hallam}, ${t.vic}`},t.id))})}),e.jsx(s.List,{name:"connectors",children:(t,{add:g,remove:I})=>e.jsxs(e.Fragment,{children:[t.map((a,f)=>e.jsxs(s.Item,{required:!1,label:f===0?"Point Status":"",children:[e.jsx(s.Item,{...a,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input connector's name or delete this field."}],noStyle:!0,children:e.jsx(r,{placeholder:"Connector name",style:{width:"60%"}})}),t.length>1&&e.jsx(P,{className:"dynamic-delete-button ml-2",onClick:()=>I(a.name)})]},a.key)),t.length<3&&e.jsx(s.Item,{children:e.jsx(q,{type:"dashed",onClick:()=>g(),icon:e.jsx(d,{}),children:"Add connector"})})]})})]})})}export{L as default};
