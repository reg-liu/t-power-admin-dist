import{f as L,j as e}from"./index-D-ofxrX4.js";import{r}from"./vendor-react-BcJS7s_i.js";import z from"./detail-LxfUn2HK.js";import G from"./editConnector-CBNTe28F.js";import Q from"./setChargeProfile-CLTixIXB.js";import X from"./start-BlbyjEZ1.js";import{I,w as b,k as a,W as k,P as j,X as p,Y as v,Z as S,z as N,H as A,l as J,N as W}from"./vendor-antd-mvdqVON1.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-CxBTGS1X.js";import"./LineChart-CVDITZv6.js";import"./isEqual-Hc_6Fhhx.js";import"./vendor-charts-Cv5x1InZ.js";import"./index-Dj133iwh.js";const{Option:n}=b,B={Tesla:["Model S","Model 3","Model X"],Nissan:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"],BYD:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]},C=[{key:"1",name:"ChargePoint 1",cp_sn:"CP001",brand:"Tesla",brand_model:"Model S",chargepoint_status:"Online",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"1-1",chargePointKey:"1",name:"Connector A",connector_id:"C001",status:"Available"},{key:"1-2",chargePointKey:"1",name:"Connector B",connector_id:"C002",status:"Charging"}]},{key:"2",name:"ChargePoint 2",cp_sn:"CP002",brand:"Nissan",brand_model:"Nissan LEAF",chargepoint_status:"Offline",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"2-1",chargePointKey:"2",name:"Connector A",connector_id:"C003",status:"Unavailable"},{key:"2-2",chargePointKey:"2",name:"Connector B",connector_id:"C004",status:"Reserved"}]},{key:"3",name:"ChargePoint 3",cp_sn:"CP003",brand:"BYD",brand_model:"BYD Tang EV",chargepoint_status:"Unknown",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"3-1",chargePointKey:"3",name:"Connector A",connector_id:"C005",status:"Faulted"},{key:"3-2",chargePointKey:"3",name:"Connector B",connector_id:"C006",status:"Unknown"}]}];function he(){const[l,i]=r.useState({brand:"",brand_model:""}),[c,w]=r.useState([]),[m,y]=r.useState([]),[_,E]=r.useState("list"),[R,o]=r.useState(!1),[K,d]=r.useState(!1),[V,f]=r.useState(!1),[M,h]=r.useState(!1),[D,P]=r.useState(null),F=L();r.useEffect(()=>{const s=C.filter(t=>c.includes(t.key)).flatMap(t=>t.connectors.map(x=>x.key));y(s)},[c]);const O=()=>{},u=s=>{},Y=s=>{w(s)},T=s=>{y(s)},U=[{title:"Name",dataIndex:"name",key:"name",render:(s,t)=>e.jsx(a,{type:"link",onClick:()=>{P(t),f(!0)},children:s})},{title:"SN",dataIndex:"cp_sn",key:"cp_sn"},{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Brand Model",dataIndex:"brand_model",key:"brand_model"},{title:"ChargePoint Status",dataIndex:"chargepoint_status",key:"chargepoint_status"}],$=s=>{const t=[{title:"ID",dataIndex:"connector_id",key:"connector_id"},{title:"Status",dataIndex:"status",key:"status"},{title:"Operation",key:"operation",render:()=>e.jsxs(e.Fragment,{children:[e.jsx(a,{type:"link",icon:e.jsx(k,{}),onClick:()=>h(!0),children:"Start"}),e.jsx(j,{title:"Are you sure to stop?",onConfirm:()=>u(),children:e.jsx(a,{type:"link",icon:e.jsx(p,{}),children:"Stop"})}),e.jsx(a,{type:"link",icon:e.jsx(v,{}),onClick:()=>o(!0),children:"Set Charge Profile"}),e.jsx(a,{type:"link",icon:e.jsx(S,{}),onClick:()=>d(!0),children:"Edit Connector Availability"})]})}];return e.jsx(A,{columns:t,showHeader:!1,dataSource:s.connectors,pagination:!1,rowSelection:{selectedRowKeys:m,onChange:T}})};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"search-area mb-6 flex flex-wrap justify-between",children:[e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Name"}),e.jsx(I,{placeholder:"Name",onChange:s=>i({...l,name:s.target.value})})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"SN"}),e.jsx(I,{placeholder:"SN",onChange:s=>i({...l,cp_sn:s.target.value})})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Brand"}),e.jsxs(b,{className:"w-full",placeholder:"Brand",value:l.brand,onChange:s=>{i({...l,brand:s,brand_model:void 0})},children:[e.jsx(n,{value:"",children:"All"}),Object.keys(B).map(s=>e.jsx(n,{value:s,children:s},s))]})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Brand Model"}),e.jsxs(b,{className:"w-full",placeholder:"Brand Model",value:l.brand,disabled:!l.brand,onChange:s=>i({...l,brand_model:s}),children:[e.jsx(n,{value:"",children:"All"}),l.brand&&B[l.brand].map(s=>e.jsx(n,{value:s,children:s},s))]})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"ChargePoint Status"}),e.jsxs(b,{className:"w-full",placeholder:"ChargePoint Status",onChange:s=>i({...l,chargepoint_status:s}),children:[e.jsx(n,{value:"online",children:"Online"}),e.jsx(n,{value:"offline",children:"Offline"}),e.jsx(n,{value:"unknown",children:"Unknown"})]})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Connector Status"}),e.jsxs(b,{className:"w-full",placeholder:"Connector Status",onChange:s=>i({...l,connector_status:s}),children:[e.jsx(n,{value:"available",children:"Available"}),e.jsx(n,{value:"unavailable",children:"Unavailable"}),e.jsx(n,{value:"preparing",children:"Preparing"}),e.jsx(n,{value:"starting",children:"Starting"}),e.jsx(n,{value:"stopping",children:"Stopping"}),e.jsx(n,{value:"charging",children:"Charging"}),e.jsx(n,{value:"suspended_ev",children:"Suspended EV"}),e.jsx(n,{value:"suspended_evse",children:"Suspended EVSE"}),e.jsx(n,{value:"finishing",children:"Finishing"}),e.jsx(n,{value:"reserved",children:"Reserved"}),e.jsx(n,{value:"faulted",children:"Faulted"}),e.jsx(n,{value:"unknown",children:"Unknown"})]})]}),e.jsx("div",{className:"search-btn mb-4 ml-auto flex w-1/5 items-end justify-end pr-4",children:e.jsx(a,{type:"primary",onClick:O,className:"mt-4",children:"Search"})})]}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("div",{children:m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{className:"mr-2",icon:e.jsx(k,{}),onClick:()=>h(!0),children:"Start"}),e.jsx(j,{title:"Are you sure to stop?",onConfirm:()=>u(),children:e.jsx(a,{className:"mr-2",icon:e.jsx(p,{}),children:"Stop"})}),e.jsx(a,{className:"mr-2",icon:e.jsx(v,{}),onClick:()=>o(!0),children:"Set Charge Profile"}),e.jsx(a,{className:"mr-2",icon:e.jsx(S,{}),onClick:()=>d(!0),children:"Edit Connector Availability"}),e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Are you sure to remotely reset hardware?",onConfirm:()=>u(),children:e.jsx(a,{className:"mr-2",icon:e.jsx(p,{}),children:"Remotely Reset Hardware"})}),e.jsx(j,{title:"Are you sure to remotely reset software?",onConfirm:()=>u(),children:e.jsx(a,{className:"mr-2",icon:e.jsx(p,{}),children:"Remotely Reset Software"})})]})]})}),e.jsxs(N.Group,{value:_,onChange:s=>E(s.target.value),children:[e.jsx(N.Button,{value:"list",children:"List"}),e.jsx(N.Button,{value:"grid",children:"Grid"})]})]}),_==="list"?e.jsx(A,{columns:U,dataSource:C,expandable:{expandedRowRender:$,defaultExpandedRowKeys:C.map(s=>s.key)},rowSelection:{selectedRowKeys:c,onChange:Y},pagination:{total:C.length,showSizeChanger:!0,showQuickJumper:!0,showTotal:s=>`Total ${s} items`}}):e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(s=>e.jsxs(J,{className:"mb-4",children:[e.jsx("div",{className:"mb-4 flex items-center",children:e.jsx("input",{type:"checkbox",checked:c.includes(s.key),onChange:t=>{const x=t.target.checked?[...c,s.key]:c.filter(g=>g!==s.key);w(x)}})}),e.jsxs("div",{className:"flex",children:[e.jsx(W,{src:s.picture,width:64,height:64}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{children:e.jsx(a,{type:"link",onClick:()=>{P(s),f(!0)},children:s.name})}),e.jsxs("p",{children:["SN: ",s.cp_sn]}),e.jsxs("p",{children:["Brand: ",s.brand]}),e.jsxs("p",{children:["Model: ",s.brand_model]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{children:"Connectors:"}),s.connectors.map(t=>e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsx("input",{type:"checkbox",checked:m.includes(t.key),onChange:x=>{const g=x.target.checked?[...m,t.key]:m.filter(H=>H!==t.key);y(g)}}),e.jsxs("span",{children:["ID: ",t.connector_id]}),e.jsxs("span",{children:["Status: ",t.status]}),e.jsxs("div",{children:[e.jsx(a,{type:"link",icon:e.jsx(k,{}),onClick:()=>h(!0),children:"Start"}),e.jsx(j,{title:"Are you sure to stop?",onConfirm:()=>u(),children:e.jsx(a,{type:"link",icon:e.jsx(p,{}),children:"Stop"})}),e.jsx(a,{type:"link",icon:e.jsx(v,{}),onClick:()=>o(!0),children:"Set Charge Profile"}),e.jsx(a,{type:"link",icon:e.jsx(S,{}),onClick:()=>d(!0),children:"Edit Connector Availability"})]})]},t.key))]})]},s.key))}),e.jsx(Q,{visible:R,onCancel:()=>o(!1),onConfirm:()=>{o(!1)}}),e.jsx(G,{visible:K,onCancel:()=>d(!1),onConfirm:s=>{d(!1)}}),e.jsx(z,{visible:V,onCancel:()=>f(!1),chargePoint:D,onStart:()=>h(!0),onSetChargeProfile:()=>o(!0),onEditConnector:()=>d(!0),isAdmin:F}),e.jsx(X,{visible:M,onCancel:()=>h(!1),onConfirm:()=>{h(!1)}})]})}export{he as default};
