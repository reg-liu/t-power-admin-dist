import{j as e}from"./index-Dg_G9Idh.js";import{r as d,R as L}from"./vendor-react-BcJS7s_i.js";import{K as ce,k as u,a0 as ee,X as de,P as C,Y as le,Z as he,$ as ue,a1 as fe,Q as me,a2 as Q}from"./vendor-antd-rXbYDupp.js";import{t as je,w as M,i as _,g as xe,c as ge,L as D,C as A,X as k,Y as H,T as P,a as W,b as S}from"./LineChart-D26i5CR9.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-BT_e3atF.js";import"./isEqual-Hc_6Fhhx.js";import"./vendor-charts-Cv5x1InZ.js";import"./index-Dj133iwh.js";function O(t){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(t)}function V(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function $(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?V(Object(n),!0).forEach(function(i){pe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pe(t,r,n){return r=ye(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ye(t){var r=ve(t,"string");return O(r)=="symbol"?r:r+""}function ve(t,r){if(O(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,r||"default");if(O(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function be(t,r){return Se(t)||Ce(t,r)||Re(t,r)||we()}function we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(t,r){if(t){if(typeof t=="string")return Z(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,r)}}function Z(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Ce(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,l,j,a,f=[],c=!0,x=!1;try{if(j=(n=n.call(t)).next,r!==0)for(;!(c=(i=j.call(n)).done)&&(f.push(i.value),f.length!==r);c=!0);}catch(g){x=!0,l=g}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(x)throw l}}return f}}function Se(t){if(Array.isArray(t))return t}var I=d.forwardRef(function(t,r){var n=t.aspect,i=t.initialDimension,l=i===void 0?{width:-1,height:-1}:i,j=t.width,a=j===void 0?"100%":j,f=t.height,c=f===void 0?"100%":f,x=t.minWidth,g=x===void 0?0:x,b=t.minHeight,p=t.maxHeight,m=t.children,F=t.debounce,N=F===void 0?0:F,B=t.id,te=t.className,ne=t.onResize,U=t.style,re=U===void 0?{}:U,w=d.useRef(null),E=d.useRef();E.current=ne,d.useImperativeHandle(r,function(){return Object.defineProperty(w.current,"current",{get:function(){return w.current},configurable:!0})});var ie=d.useState({containerWidth:l.width,containerHeight:l.height}),X=be(ie,2),K=X[0],se=X[1],T=d.useCallback(function(h,y){se(function(s){var o=Math.round(h),v=Math.round(y);return s.containerWidth===o&&s.containerHeight===v?s:{containerWidth:o,containerHeight:v}})},[]);d.useEffect(function(){var h=function(ae){var z,Y=ae[0].contentRect,q=Y.width,G=Y.height;T(q,G),(z=E.current)===null||z===void 0||z.call(E,q,G)};N>0&&(h=je(h,N,{trailing:!0,leading:!1}));var y=new ResizeObserver(h),s=w.current.getBoundingClientRect(),o=s.width,v=s.height;return T(o,v),y.observe(w.current),function(){y.disconnect()}},[T,N]);var oe=d.useMemo(function(){var h=K.containerWidth,y=K.containerHeight;if(h<0||y<0)return null;M(_(a)||_(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),M(!n||n>0,"The aspect(%s) must be greater than zero.",n);var s=_(a)?h:a,o=_(c)?y:c;n&&n>0&&(s?o=s/n:o&&(s=o*n),p&&o>p&&(o=p)),M(s>0||o>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,s,o,a,c,g,b,n);var v=!Array.isArray(m)&&xe(m.type).endsWith("Chart");return L.Children.map(m,function(R){return L.isValidElement(R)?d.cloneElement(R,$({width:s,height:o},v?{style:$({height:"100%",width:"100%",maxHeight:o,maxWidth:s},R.props.style)}:{})):R})},[n,m,c,p,b,g,K,a]);return L.createElement("div",{id:B?"".concat(B):void 0,className:ge("recharts-responsive-container",te),style:$($({},re),{},{width:a,height:c,minWidth:g,minHeight:b,maxHeight:p}),ref:w},oe)});const{Panel:J}=ee;function Ie({visible:t,isAdmin:r,onCancel:n,chargePoint:i,onStart:l,onSetChargeProfile:j,onEditConnector:a}){const[f,c]=d.useState(["1","2","3"]),x=[{date:"2023-06-01",energy:120},{date:"2023-06-02",energy:150},{date:"2023-06-03",energy:180},{date:"2023-06-04",energy:200},{date:"2023-06-05",energy:170},{date:"2023-06-06",energy:190},{date:"2023-06-07",energy:210}],g=[{date:"2023-06-01",session:5},{date:"2023-06-02",session:8},{date:"2023-06-03",session:6},{date:"2023-06-04",session:10},{date:"2023-06-05",session:7},{date:"2023-06-06",session:9},{date:"2023-06-07",session:11}],b=[{type:"Error",num:3},{type:"Warning",num:5},{type:"Info",num:2}],p=[{date:"2023-06-01",online_num:20,offline_num:4},{date:"2023-06-02",online_num:22,offline_num:2},{date:"2023-06-03",online_num:21,offline_num:3},{date:"2023-06-04",online_num:23,offline_num:1},{date:"2023-06-05",online_num:20,offline_num:4},{date:"2023-06-06",online_num:24,offline_num:0},{date:"2023-06-07",online_num:22,offline_num:2}];return e.jsxs(ce,{title:"Chargepoint Detail",visible:t,onCancel:n,width:800,style:{top:20},footer:[e.jsx(u,{onClick:n,children:"Close"},"close")],children:[e.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",i?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"SN:"})," ",i?.cp_sn]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Brand:"})," ",i?.brand]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Brand Model:"})," ",i?.brand_model]})]})]}),e.jsxs(ee,{activeKey:f,onChange:c,children:[e.jsx(J,{header:"Realtime information",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Chargepoint Status:"})," ",i?.chargepoint_status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Connectors Status:"}),e.jsx("ul",{children:i?.connectors.map(m=>e.jsxs("li",{children:[m.connector_id,": ",m.status]},m.connector_id))})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Realtime Charging Data:"}),e.jsx("p",{children:"Time: 43.5mins"}),e.jsx("p",{children:"Sequence: qwad123"}),e.jsx("p",{children:"Transaction ID: 12345678asd"}),e.jsx("p",{children:"Soc: 23.5%"}),e.jsx("p",{children:"Power: 32.00"}),e.jsx("p",{children:"Current: 22.00"}),e.jsx("p",{children:"Energy: 52.00"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Repair Schedule:"})," 2024-12-05 14:30:45"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Schedule:"})," 2024-12-05 14:30:45"]})]})},"1"),e.jsx(J,{header:"Statistics graphs/information (7 days)",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{children:"Charging Session Record"}),e.jsx(I,{width:"100%",height:200,children:e.jsxs(D,{data:x,children:[e.jsx(A,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"date"}),e.jsx(H,{}),e.jsx(P,{}),e.jsx(W,{}),e.jsx(S,{type:"monotone",dataKey:"energy",stroke:"#8884d8",name:"Charged Energy Per Day"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{children:"Usage Record"}),e.jsx(I,{width:"100%",height:200,children:e.jsxs(D,{data:g,children:[e.jsx(A,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"date"}),e.jsx(H,{}),e.jsx(P,{}),e.jsx(W,{}),e.jsx(S,{type:"monotone",dataKey:"session",stroke:"#82ca9d",name:"Num Of Charge Session Per Day"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{children:"Alert/Fault Record"}),e.jsx(I,{width:"100%",height:200,children:e.jsxs(D,{data:b,children:[e.jsx(A,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"type"}),e.jsx(H,{}),e.jsx(P,{}),e.jsx(W,{}),e.jsx(S,{type:"monotone",dataKey:"num",stroke:"#ffc658",name:"Num Of Alert/Fault"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{children:"Online/Offline Record"}),e.jsx(I,{width:"100%",height:200,children:e.jsxs(D,{data:p,children:[e.jsx(A,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"date"}),e.jsx(H,{}),e.jsx(P,{}),e.jsx(W,{}),e.jsx(S,{type:"monotone",dataKey:"online_num",stroke:"#8884d8",name:"Num Of Online Record Per Day"}),e.jsx(S,{type:"monotone",dataKey:"offline_num",stroke:"#82ca9d",name:"Num Of Offline Record Per Day"})]})})]})]})},"2")]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx(u,{icon:e.jsx(de,{}),onClick:l,children:"Start"}),e.jsx(C,{title:"Areyou sure to stop?",onConfirm:()=>{},children:e.jsx(u,{icon:e.jsx(le,{}),children:"Stop"})}),e.jsx(u,{icon:e.jsx(he,{}),onClick:j,children:"Set Charge Profile"}),e.jsx(u,{icon:e.jsx(ue,{}),onClick:a,children:"Edit Connector Availability"}),r&&e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Are you sure to download log?",onConfirm:()=>{},children:e.jsx(u,{icon:e.jsx(fe,{}),children:"Download Log"})}),e.jsx(C,{title:"Are you sure to upgrade firmware?",onConfirm:()=>{},children:e.jsx(u,{icon:e.jsx(me,{}),children:"Upgrade Firmware"})}),e.jsx(C,{title:"Are you sure to reset hardware?",onConfirm:()=>{},children:e.jsx(u,{icon:e.jsx(Q,{}),children:"Remotely Reset Hardware"})}),e.jsx(C,{title:"Are you sure to reset software?",onConfirm:()=>{},children:e.jsx(u,{icon:e.jsx(Q,{}),children:"Remotely Reset Software"})})]})]})]})}export{Ie as default};
