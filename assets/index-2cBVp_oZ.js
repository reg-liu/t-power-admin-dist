import{j as e}from"./index-CxhHUcuD.js";import{r as i}from"./vendor-react-BcJS7s_i.js";import w from"./detail-C3xgt15H.js";import E from"./editBrandModel-CDNMWR0H.js";import{w as v,I as C,k as d,P as b,x as A,y as I,z as g,E as M,F as V,H as P,l as Y,Q as R,N as F,J as L}from"./vendor-antd-DouGSysN.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-Cpch6Ee7.js";import"./addBrand-xdZozDRu.js";const{Option:m}=v,O=[{id:1,brand:"Tesla",brand_model:"Model S",class:"Sedan",year:2022,plug_type:"Type 2",battery_capacity:100},{id:2,brand:"Nissan",brand_model:"Nissan LEAF",class:"Hatchback",year:2021,plug_type:"CHAdeMO",battery_capacity:62},{id:3,brand:"BYD",brand_model:"BYD Tang EV",class:"SUV",year:2023,plug_type:"GB/T",battery_capacity:86.4}],k=[{value:"Tesla",models:["Model S","Model 3","Model X"]},{value:"Nissan",models:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"]},{value:"BYD",models:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]}];function X(){const[l,c]=i.useState({brand:"",brand_model:"",class:"",plug_type:""}),[f,_]=i.useState("list"),[r,o]=i.useState([]),[N,x]=i.useState(!1),[S,h]=i.useState(!1),[p,j]=i.useState(null),[t,y]=i.useState(O),B=()=>{},u=a=>{y(t.filter(s=>!a.includes(s.id))),o([])},T=[{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Brand Model",dataIndex:"brand_model",key:"brand_model",render:(a,s)=>e.jsx(d,{type:"link",onClick:()=>{j(s),x(!0)},children:a})},{title:"Class",dataIndex:"class",key:"class"},{title:"Year",dataIndex:"year",key:"year"},{title:"Plug Type",dataIndex:"plug_type",key:"plug_type"},{title:"Battery Capacity (Ah)",dataIndex:"battery_capacity",key:"battery_capacity"},{title:"Operation",key:"operation",render:(a,s)=>e.jsx(b,{title:"Are you sure to delete?",onConfirm:()=>u([s.id]),children:e.jsx(d,{type:"link",children:"Delete"})})}],D=a=>{const s=document.createElement("canvas");s.width=100,s.height=100;const n=s.getContext("2d");return n&&(n.font="14px Arial",n.fillText(a.brand,10,30),n.fillText(a.brand_model,10,50),n.fillText(a.year.toString(),10,70)),s.toDataURL()};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 grid grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block",children:"Brand"}),e.jsxs(v,{className:"w-full",value:l.brand,onChange:a=>c({...l,brand:a,brand_model:""}),children:[e.jsx(m,{value:"",children:"All"}),k.map(a=>e.jsx(m,{value:a.value,children:a.value},a.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block",children:"Brand Model"}),e.jsxs(v,{className:"w-full",value:l.brand_model,disabled:!l.brand,onChange:a=>c({...l,brand_model:a}),children:[e.jsx(m,{value:"",children:"All"}),k.find(a=>a.value===l.brand)?.models.map(a=>e.jsx(m,{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block",children:"Class"}),e.jsx(C,{value:l.class,onChange:a=>c({...l,class:a.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block",children:"Plug Type"}),e.jsx(C,{value:l.plug_type,onChange:a=>c({...l,plug_type:a.target.value})})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(d,{type:"primary",onClick:B,children:"Search"})})]}),e.jsxs("div",{className:"mb-4 flex justify-between",children:[e.jsx("div",{children:r.length>0&&e.jsx(b,{title:"Are you sure you want to unbind selected EVs?",onConfirm:()=>{},okText:"Yes",cancelText:"No",children:e.jsx(d,{icon:e.jsx(A,{}),onClick:()=>u(r.map(a=>a.id)),disabled:r.length===0,children:"Delete"})})}),e.jsxs("div",{children:[e.jsx(d,{icon:e.jsx(I,{}),onClick:()=>{j(null),h(!0)},className:"mr-2",children:"Create Brand Model"}),e.jsxs(g.Group,{value:f,onChange:a=>_(a.target.value),children:[e.jsxs(g.Button,{value:"list",children:[e.jsx(M,{})," List"]}),e.jsxs(g.Button,{value:"grid",children:[e.jsx(V,{})," Grid"]})]})]})]}),f==="list"?e.jsx(P,{columns:T,dataSource:t,rowKey:"id",rowSelection:{type:"checkbox",onChange:(a,s)=>o(s)}}):e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:t.map(a=>e.jsxs(Y,{className:"flex flex-col",children:[e.jsx(R,{className:"mb-2",onChange:s=>{s.target.checked?o([...r,a]):o(r.filter(n=>n.id!==a.id))}}),e.jsx(F,{src:D(a),width:100,height:100}),e.jsxs("p",{children:[e.jsx("strong",{children:"Brand:"})," ",a.brand]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Brand Model:"}),e.jsx(d,{type:"link",onClick:()=>{j(a),x(!0)},children:a.brand_model})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Class:"})," ",a.class]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Year:"})," ",a.year]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Plug Type:"})," ",a.plug_type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Battery Capacity:"})," ",a.battery_capacity," Ah"]}),e.jsx(b,{title:"Are you sure to delete?",onConfirm:()=>u([a.id]),children:e.jsx(d,{type:"link",children:"Delete"})})]},a.id))}),e.jsx(L,{className:"mt-4",total:t.length,showSizeChanger:!0,showQuickJumper:!0,showTotal:a=>`Total ${a} items`}),e.jsx(w,{visible:N,onCancel:()=>x(!1),record:p,onEdit:()=>{h(!0)},onDelete:a=>{u([a]),x(!1)}}),e.jsx(E,{visible:S,onCancel:()=>h(!1),record:p,onSave:a=>{y(p?t.map(s=>s.id===a.id?a:s):[...t,{...a,id:Math.max(...t.map(s=>s.id))+1}]),h(!1)}})]})}export{X as default};
