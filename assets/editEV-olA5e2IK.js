import{g as x,j as e,S as h}from"./index-BeJwjvqM.js";import{r as t}from"./vendor-react-BcJS7s_i.js";import{e as j}from"./ev-PecoakOh.js";import{H as i,E as p,k as d,w as l,I as f,U as b,K as c}from"./vendor-antd-DOcLYMw-.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-WjIMX4x3.js";function y({visible:m,onClose:a,ev:s}){const[n]=i.useForm(),u=x(),o=t.useRef(null);return t.useEffect(()=>{n.setFieldsValue(s)},[s,n]),t.useEffect(()=>{if(o.current){const r=o.current.getContext("2d");r&&(r.clearRect(0,0,100,100),r.font="12px Arial",r.fillText(s.brand,10,20),r.fillText(s.brand_model,10,40),r.fillText(s.year.toString(),10,60))}},[s]),e.jsx(p,{title:"Edit EV",visible:m,onCancel:a,footer:[e.jsxs("div",{className:"footer-normal-btns",children:[e.jsx(d,{onClick:a,children:"Cancel"},"cancel"),e.jsx(d,{type:"primary",onClick:()=>{n.validateFields().then(r=>{a()})},children:"Confirm"},"confirm")]})],children:e.jsx("div",{className:"modal-form",children:e.jsxs(i,{form:n,layout:"vertical",children:[e.jsx(i.Item,{name:"brand",label:"Brand",children:e.jsxs(l,{disabled:!0,children:[e.jsx(l.Option,{value:"tesla",children:"Tesla"}),e.jsx(l.Option,{value:"nissan",children:"Nissan"}),e.jsx(l.Option,{value:"chevrolet",children:"Chevrolet"})]})}),e.jsx(i.Item,{name:"brand_model",label:"Brand Model",children:e.jsxs(l,{disabled:!0,children:[e.jsx(l.Option,{value:"model3",children:"Model 3"}),e.jsx(l.Option,{value:"leaf",children:"Leaf"}),e.jsx(l.Option,{value:"bolt",children:"Bolt"})]})}),e.jsx(i.Item,{name:"year",label:"Year",children:e.jsx(l,{disabled:!0,children:[2020,2021,2022,2023].map(r=>e.jsx(l.Option,{value:r,children:r},r))})}),e.jsx(i.Item,{name:"photo",label:"Photo",valuePropName:"fileList",getValueFromEvent:r=>Array.isArray(r)?r:r&&r.fileList,children:e.jsxs("div",{className:"upload-wrapper",children:[e.jsx(f,{src:j,preview:!1,width:236,className:"entity-image mr-4 object-cover"}),e.jsx(b,{listType:"picture-card",children:e.jsxs("div",{className:"upload-inner",children:[e.jsx(h,{icon:"Add",size:"20",color:"#1CAE70"}),e.jsx("div",{style:{marginTop:4},children:"Upload Picture"})]})})]})}),e.jsx(i.Item,{name:"registration_number",label:"Registration Number",rules:[{required:!0}],children:e.jsx(c,{})}),e.jsx(i.Item,{name:"vin",label:"VIN Number",rules:[{required:!0}],children:e.jsx(c,{})}),u&&e.jsx(i.Item,{name:"owner",label:"User",children:e.jsxs(l,{disabled:!0,children:[e.jsx(l.Option,{value:"john",children:"John Doe"}),e.jsx(l.Option,{value:"jane",children:"Jane Smith"}),e.jsx(l.Option,{value:"bob",children:"Bob Johnson"})]})})]})})})}export{y as default};
