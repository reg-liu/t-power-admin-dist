import{j as e,S as y}from"./index-BMZvESdy.js";import{r as c}from"./vendor-react-BcJS7s_i.js";import{e as N}from"./ev-PecoakOh.js";import A from"./addBrand-DGF95F8s.js";import{H as s,E,k as u,w as d,J as M,K as t,I as B,U as V}from"./vendor-antd-DOcLYMw-.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-WjIMX4x3.js";const{Option:a}=d;function T({visible:i,onClose:o,record:n,onSave:j}){const[r]=s.useForm(),[g,m]=c.useState(!1),[h,v]=c.useState(["Tesla","Nissan","BYD"]),[x,b]=c.useState({Tesla:["Model S","Model 3","Model X"],Nissan:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"],BYD:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]});c.useEffect(()=>{i&&n?r.setFieldsValue(n):i&&r.resetFields()},[i,n,r]);const f=()=>{r.validateFields().then(l=>{j(l),o()})},C=(l,p)=>{v([...h,l]),b({...x,[l]:p}),r.setFieldsValue({brand:l,brand_model:p[0]}),m(!1)},P=()=>{r.setFieldsValue({brand_model:void 0})},I=l=>{r.setFieldsValue({connector_type:l==="AC"?"ac - type2":"dc - ccs2"})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:n?"Edit Charge Point Brand Model":"Add Charge Point Brand Model",visible:i,onCancel:o,zIndex:1001,footer:[e.jsxs("div",{className:"footer-normal-btns",children:[e.jsx(u,{onClick:o,children:"Cancel"},"cancel"),e.jsx(u,{type:"primary",onClick:f,children:n?"Confirm":"Add"},"confirm")]})],children:e.jsx("div",{className:"modal-form",children:e.jsxs(s,{form:r,layout:"vertical",children:[e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"brand",label:"Brand",rules:[{required:!0,message:"Please select a brand"}],children:e.jsx(d,{onChange:P,placeholder:"Select",disabled:!!n,dropdownRender:l=>e.jsxs("div",{children:[l,e.jsx("div",{className:"p-2",children:e.jsxs(u,{type:"link",onClick:()=>m(!0),children:[e.jsx(M,{})," Add Brand"]})})]}),children:h.map(l=>e.jsx(a,{value:l,children:l},l))})}),e.jsx(s.Item,{name:"brand_model",label:"Brand Model",rules:[{required:!0,message:"Please select a brand model"}],children:e.jsx(d,{placeholder:"Select",children:r.getFieldValue("brand")&&x[r.getFieldValue("brand")]?.map(l=>e.jsx(a,{value:l,children:l},l))})})]}),e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"charge_model",label:"Charge Model",rules:[{required:!0,message:"Please select a charge model"}],children:e.jsxs(d,{placeholder:"Select",onChange:l=>I(l),children:[e.jsx(a,{value:"AC",children:"AC"}),e.jsx(a,{value:"DC",children:"DC"})]})}),e.jsx(s.Item,{name:"connector_type",label:"Connector Type",rules:[{required:!0,message:"Please select a connector type"}],children:e.jsx(t,{disabled:!0,placeholder:"Enter"})})]}),e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"connector_num",label:"Connector No",rules:[{required:!0,message:"Please select a connector number"}],children:e.jsxs(d,{placeholder:"Select",children:[e.jsx(a,{value:1,children:"1"}),e.jsx(a,{value:2,children:"2"})]})}),e.jsx(s.Item,{name:"phase",label:"Phase",rules:[{required:!0,message:"Please enter the phase"}],children:e.jsxs(d,{placeholder:"Select",children:[e.jsx(a,{value:"1p+n",children:"1p+n"}),e.jsx(a,{value:"3p+n",children:"3p+n"})]})})]}),e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"ocpp",label:"OCPP",rules:[{required:!0,message:"Please enter the OCPP"}],children:e.jsxs(d,{placeholder:"Select",children:[e.jsx(a,{value:"ocpp2.0.1",children:"ocpp2.0.1"}),e.jsx(a,{value:"ocpp1.6",children:"ocpp1.6"})]})}),e.jsx(s.Item,{name:"temp",label:""})]}),e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"current_min",label:"Current Min(A)",rules:[{required:!0,message:"Please enter the min current"}],children:e.jsx(t,{type:"number",placeholder:"Enter"})}),e.jsx(s.Item,{name:"current_max",label:"Current Max(A)",rules:[{required:!0,message:"Please enter the max current"}],children:e.jsx(t,{type:"number",placeholder:"Enter"})})]}),e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"voltage_min",label:"Voltage Min(V)",rules:[{required:!0,message:"Please enter the min voltage"}],children:e.jsx(t,{type:"number",placeholder:"Enter"})}),e.jsx(s.Item,{name:"voltage_max",label:"Voltage Max(V)",rules:[{required:!0,message:"Please enter the max voltage"}],children:e.jsx(t,{type:"number",placeholder:"Enter"})})]}),e.jsxs("div",{className:"two-column",children:[e.jsx(s.Item,{name:"power_min",label:"Power Min(kW)",rules:[{required:!0,message:"Please enter the min power"}],children:e.jsx(t,{type:"number",placeholder:"Enter"})}),e.jsx(s.Item,{name:"power_max",label:"Power Max(kW)",rules:[{required:!0,message:"Please enter the max power"}],children:e.jsx(t,{type:"number",placeholder:"Enter"})})]}),e.jsx(s.Item,{name:"picture",label:"Picture",valuePropName:"fileList",getValueFromEvent:l=>Array.isArray(l)?l:l&&l.fileList,children:e.jsxs("div",{className:"upload-wrapper",children:[n&&e.jsx(B,{src:N,preview:!1,width:236,className:"entity-image mr-4 object-cover"}),e.jsx(V,{listType:"picture-card",children:e.jsxs("div",{className:"upload-inner",children:[e.jsx(y,{icon:"Add",size:"20",color:"#1CAE70"}),e.jsx("div",{style:{marginTop:4},children:"Upload Picture"})]})})]})})]})})}),e.jsx(A,{visible:g,onClose:()=>m(!1),onAdd:C})]})}export{T as default};
