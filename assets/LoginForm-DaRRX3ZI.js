import{a as w,k as S,l as b,m as i,j as e,S as d}from"./index-BhiLnn2E.js";import{r as h}from"./vendor-react-DcqtUZ_G.js";import{x as r,H as n,K as t,i as o,V as E,W as u,y as I}from"./vendor-antd-BiNc4BQP.js";import"./vendor-ui-BASYQBt4.js";import"./vendor-utils-DcB4TerO.js";function z(){const{t:s}=w(),[x,m]=h.useState(!1),[l,p]=h.useState("email"),{loginState:g,setLoginState:c}=S(),j=b();if(g!==i.LOGIN)return null;const y=async({phone:a,email:v,password:N})=>{m(!0);try{await j({username:l==="phone"?a:v,password:N})}finally{m(!1)}},f=e.jsx("div",{className:"country-code-wrapper",children:e.jsx("span",{className:"text",children:"+61"})});return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 text-2xl font-bold xl:text-3xl",children:s("sys.login.signInFormTitle")}),e.jsxs(r.Group,{className:"login-switch",value:l,onChange:a=>p(a.target.value),children:[e.jsx(r.Button,{value:"email",className:"switch-item",children:e.jsxs("div",{className:"item-inner",children:[e.jsx(d,{icon:l==="email"?"email-active":"email",size:"14"}),"Email"]})}),e.jsx(r.Button,{value:"phone",className:"switch-item",children:e.jsxs("div",{className:"item-inner",children:[e.jsx(d,{icon:l==="phone"?"phone-active":"phone",size:"14"}),"Phone"]})})]}),e.jsxs(n,{name:"login",size:"large",layout:"vertical",className:"login-form",initialValues:{remember:!0,username:"",password:""},onFinish:y,children:[e.jsx("div",{className:"mb-4 flex flex-col"}),l==="phone"?e.jsx(n.Item,{name:"phone",label:s("sys.login.phone"),rules:[{required:!0,message:s("sys.login.phonePlaceholder")},{pattern:/^\d{9,}$/,message:"Phone number must be at least 9 digits!"}],children:e.jsx(t,{placeholder:"Enter",addonBefore:f,allowClear:!0})}):e.jsx(n.Item,{name:"email",label:s("sys.login.email"),rules:[{required:!0,message:s("sys.login.emailPlaceholder")}],children:e.jsx(t,{placeholder:"Enter"})}),e.jsx(n.Item,{name:"password",label:s("sys.login.password"),rules:[{required:!0,message:s("sys.login.passwordPlaceholder")}],children:e.jsx(t.Password,{type:"password",placeholder:"Enter"})}),e.jsx(o,{type:"primary",htmlType:"submit",className:"w-full",loading:x,children:s("sys.login.loginButton")}),e.jsxs(E,{align:"middle",className:"py-[22px]",children:[e.jsx(u,{span:12,children:e.jsx(n.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e.jsx(I,{children:s("sys.login.rememberMe")})})}),e.jsx(u,{span:12,className:"text-right",children:e.jsx(o,{type:"link",className:"!underline",onClick:()=>c(i.RESET_PASSWORD),size:"small",children:s("sys.login.forgetPassword")})})]}),e.jsxs("div",{className:"align-center flex cursor-pointer justify-end",children:[e.jsx("span",{children:s("sys.login.dontHave")}),e.jsx(o,{type:"link",className:"!underline",onClick:()=>c(i.REGISTER),size:"small",children:s("sys.login.registerButton")})]})]})]})}export{z as default};
