import{g as N,j as r}from"./index-DDpD7CQs.js";import{r as i}from"./vendor-react-BcJS7s_i.js";import{N as a,J as g,k as u,w as n,I as m,U as y,y as B}from"./vendor-antd-Cm1Y6B8R.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-C6QnRqht.js";const{Option:h}=n;function A({visible:x,onClose:t}){const[l]=a.useForm(),j=N(),d=i.useRef(null),[o,v]=i.useState(""),[s,p]=i.useState({brand:"",model:"",year:""}),c=[{value:"Tesla",models:["Model S","Model 3","Model X"]},{value:"Nissan",models:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"]},{value:"BYD",models:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]}];i.useEffect(()=>{if(d.current){const e=d.current.getContext("2d");e&&(e.clearRect(0,0,100,100),e.font="12px Arial",e.fillText(s.brand,10,20),e.fillText(s.model,10,40),e.fillText(s.year,10,60))}},[s]);const f=()=>{const e=l.getFieldsValue();p({brand:e.brand||"",model:e.brand_model||"",year:e.year||""})},b=e=>{v(e),l.setFieldsValue({brand_model:void 0})};return r.jsx(g,{title:"Bind a new EV",visible:x,onCancel:t,footer:[r.jsxs("div",{className:"footer-normal-btns",children:[r.jsx(u,{onClick:t,children:"Cancel"},"cancel"),r.jsx(u,{type:"primary",onClick:()=>{l.validateFields().then(e=>{t()})},children:"Confirm"},"confirm")]})],children:r.jsx("div",{className:"modal-form",children:r.jsxs(a,{form:l,layout:"vertical",onValuesChange:f,children:[r.jsxs("div",{className:"two-column",children:[r.jsx(a.Item,{name:"brand",label:"Brand",rules:[{required:!0}],children:r.jsx(n,{onChange:b,children:c.map(e=>r.jsx(h,{value:e.value,children:e.value},e.value))})}),r.jsx(a.Item,{name:"brand_model",label:"Brand Model",rules:[{required:!0}],children:r.jsx(n,{disabled:!o,children:c.find(e=>e.value===o)?.models.map(e=>r.jsx(h,{value:e,children:e},e))})})]}),r.jsxs("div",{className:"two-column",children:[r.jsx(a.Item,{name:"year",label:"Year",rules:[{required:!0}],children:r.jsx(n,{children:[2020,2021,2022,2023].map(e=>r.jsx(n.Option,{value:e,children:e},e))})}),r.jsx(a.Item,{name:"vin",label:"VIN",rules:[{required:!0}],children:r.jsx(m,{})})]}),r.jsxs("div",{className:"two-column",children:[j&&r.jsx(a.Item,{name:"user",label:"User",rules:[{required:!0}],children:r.jsxs(n,{children:[r.jsx(n.Option,{value:"john",children:"John Doe"}),r.jsx(n.Option,{value:"jane",children:"Jane Smith"}),r.jsx(n.Option,{value:"bob",children:"Bob Johnson"})]})}),r.jsx(a.Item,{name:"registration_number",label:"Registration Number",rules:[{required:!0}],children:r.jsx(m,{})})]}),r.jsx(a.Item,{name:"picture",label:"Picture",valuePropName:"fileList",getValueFromEvent:e=>Array.isArray(e)?e:e&&e.fileList,children:r.jsx(y,{listType:"picture-card",children:r.jsxs("div",{children:[r.jsx(B,{}),r.jsx("div",{style:{marginTop:8},children:"Upload"})]})})})]})})})}export{A as default};
