import{g as U,j as e,f as t}from"./index-BHG4noE_.js";import{r}from"./vendor-react-BcJS7s_i.js";import{c as L}from"./chargepoint-wPlJlVYc.js";import G from"./detail-BRSVIxEJ.js";import H from"./editConnector-CLqwYtgh.js";import Q from"./setChargeProfile-CRoSlZtb.js";import J from"./start-B-p2sSmN.js";import{I as w,w as C,k as a,P as p,z as N,F as _,l as X,E as P,O as $}from"./vendor-antd-Cm1Y6B8R.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-C6QnRqht.js";import"./LineChart-8Ld9fZxz.js";import"./isEqual-Hc_6Fhhx.js";import"./vendor-charts-Cv5x1InZ.js";import"./index-Dj133iwh.js";const{Option:n}=C,A={Tesla:["Model S","Model 3","Model X"],Nissan:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"],BYD:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]},y=[{key:"1",name:"ChargePoint 1",cp_sn:"CP001",brand:"Tesla",brand_model:"Model S",chargepoint_status:"Online",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"1-1",chargePointKey:"1",name:"Connector A",connector_id:"C001",status:"Available"},{key:"1-2",chargePointKey:"1",name:"Connector B",connector_id:"C002",status:"Charging"}]},{key:"2",name:"ChargePoint 2",cp_sn:"CP002",brand:"Nissan",brand_model:"Nissan LEAF",chargepoint_status:"Offline",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"2-1",chargePointKey:"2",name:"Connector A",connector_id:"C003",status:"Unavailable"},{key:"2-2",chargePointKey:"2",name:"Connector B",connector_id:"C004",status:"Reserved"}]},{key:"3",name:"ChargePoint 3",cp_sn:"CP003",brand:"BYD",brand_model:"BYD Tang EV",chargepoint_status:"Unknown",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"3-1",chargePointKey:"3",name:"Connector A",connector_id:"C005",status:"Faulted"},{key:"3-2",chargePointKey:"3",name:"Connector B",connector_id:"C006",status:"Unknown"}]},{key:"4",name:"ChargePoint 4",cp_sn:"CP004",brand:"Tesla",brand_model:"Model S",chargepoint_status:"Online",picture:"https://avatars.githubusercontent.com/u/64935023",connectors:[{key:"4-1",chargePointKey:"1",name:"Connector A",connector_id:"C007",status:"Available"},{key:"4-2",chargePointKey:"1",name:"Connector B",connector_id:"C008",status:"Charging"}]}];function he(){const[l,c]=r.useState({brand:"",brand_model:""}),[o,f]=r.useState([]),[u,g]=r.useState([]),[k,B]=r.useState("list"),[E,d]=r.useState(!1),[I,h]=r.useState(!1),[z,v]=r.useState(!1),[K,m]=r.useState(!1),[V,S]=r.useState(null),M=U();r.useEffect(()=>{const s=y.filter(i=>o.includes(i.key)).flatMap(i=>i.connectors.map(j=>j.key));g(s)},[o]);const R=()=>{},x=s=>{},D=s=>{f(s)},O=s=>{g(s)},F=[{title:"Name",dataIndex:"name",className:"bold",key:"name",render:(s,i)=>e.jsx(a,{type:"link",onClick:()=>{S(i),v(!0)},children:s})},{title:"SN",dataIndex:"cp_sn",key:"cp_sn"},{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Brand Model",dataIndex:"brand_model",key:"brand_model"},{title:"ChargePoint Status",dataIndex:"chargepoint_status",key:"chargepoint_status",render:s=>e.jsxs("div",{className:"status-item",children:[e.jsx("div",{className:s.toLowerCase()}),e.jsx("span",{children:s})]})}],T=s=>{const i=[{title:"ID",className:"bold",width:"240px",dataIndex:"connector_id",key:"connector_id"},{title:"Status",width:"240px",dataIndex:"status",key:"status"},{title:"Operation",key:"operation",render:()=>e.jsxs("div",{className:"operations",children:[e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"f7:play-circle",size:16}),onClick:()=>m(!0),children:"Start"}),e.jsx(p,{title:"Are you sure to stop?",onConfirm:()=>x(),children:e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"lucide:circle-pause",size:16}),children:"Stop"})}),e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"hugeicons:settings-02",size:16}),onClick:()=>d(!0),children:"Set Charge Profile"}),e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"mynaui:edit-one",size:16}),onClick:()=>h(!0),children:"Edit Connector Availability"})]})}];return e.jsx(_,{columns:i,showHeader:!1,dataSource:s.connectors,pagination:!1,bordered:!0,rowSelection:{selectedRowKeys:u,onChange:O}})};return e.jsxs("div",{className:"main-content",children:[e.jsxs("div",{className:"search-area flex flex-wrap justify-between",children:[e.jsxs("div",{className:"search-item w-1/5",children:[e.jsx("label",{className:"block",children:"Name"}),e.jsx(w,{placeholder:"Name",onChange:s=>c({...l,name:s.target.value})})]}),e.jsxs("div",{className:"search-item w-1/5",children:[e.jsx("label",{className:"block",children:"SN"}),e.jsx(w,{placeholder:"SN",onChange:s=>c({...l,cp_sn:s.target.value})})]}),e.jsxs("div",{className:"search-item w-1/5",children:[e.jsx("label",{className:"block",children:"Brand"}),e.jsxs(C,{className:"w-full",placeholder:"Brand",value:l.brand,onChange:s=>{c({...l,brand:s,brand_model:void 0})},children:[e.jsx(n,{value:"",children:"All"}),Object.keys(A).map(s=>e.jsx(n,{value:s,children:s},s))]})]}),e.jsxs("div",{className:"search-item w-1/5",children:[e.jsx("label",{className:"block",children:"Brand Model"}),e.jsxs(C,{className:"w-full",placeholder:"Brand Model",value:l.brand,disabled:!l.brand,onChange:s=>c({...l,brand_model:s}),children:[e.jsx(n,{value:"",children:"All"}),l.brand&&A[l.brand].map(s=>e.jsx(n,{value:s,children:s},s))]})]}),e.jsxs("div",{className:"search-item w-1/5",children:[e.jsx("label",{className:"block",children:"ChargePoint Status"}),e.jsxs(C,{className:"w-full",placeholder:"ChargePoint Status",onChange:s=>c({...l,chargepoint_status:s}),children:[e.jsx(n,{value:"online",children:"Online"}),e.jsx(n,{value:"offline",children:"Offline"}),e.jsx(n,{value:"unknown",children:"Unknown"})]})]}),e.jsxs("div",{className:"search-item w-1/5",children:[e.jsx("label",{className:"block",children:"Connector Status"}),e.jsxs(C,{className:"w-full",placeholder:"Connector Status",onChange:s=>c({...l,connector_status:s}),children:[e.jsx(n,{value:"available",children:"Available"}),e.jsx(n,{value:"unavailable",children:"Unavailable"}),e.jsx(n,{value:"preparing",children:"Preparing"}),e.jsx(n,{value:"starting",children:"Starting"}),e.jsx(n,{value:"stopping",children:"Stopping"}),e.jsx(n,{value:"charging",children:"Charging"}),e.jsx(n,{value:"suspended_ev",children:"Suspended EV"}),e.jsx(n,{value:"suspended_evse",children:"Suspended EVSE"}),e.jsx(n,{value:"finishing",children:"Finishing"}),e.jsx(n,{value:"reserved",children:"Reserved"}),e.jsx(n,{value:"faulted",children:"Faulted"}),e.jsx(n,{value:"unknown",children:"Unknown"})]})]}),e.jsx("div",{className:"search-btn ml-auto flex w-1/5 items-end justify-end",children:e.jsx(a,{type:"primary",onClick:R,className:"mt-4",children:"Search"})})]}),e.jsxs("div",{className:"operation-area flex items-center justify-between",children:[e.jsx("div",{children:u.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{className:"mr-2",icon:e.jsx(t,{icon:"f7:play-circle",size:16}),onClick:()=>m(!0),children:"Start"}),e.jsx(p,{title:"Are you sure to stop?",onConfirm:()=>x(),children:e.jsx(a,{className:"mr-2",icon:e.jsx(t,{icon:"lucide:circle-pause",size:16}),children:"Stop"})}),e.jsx(a,{className:"mr-2",icon:e.jsx(t,{icon:"hugeicons:settings-02",size:16}),onClick:()=>d(!0),children:"Set Charge Profile"}),e.jsx(a,{className:"mr-2",icon:e.jsx(t,{icon:"mynaui:edit-one",size:16}),onClick:()=>h(!0),children:"Edit Connector Availability"}),e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Are you sure to remotely reset hardware?",onConfirm:()=>x(),children:e.jsx(a,{className:"mr-2",icon:e.jsx(t,{icon:"mynaui:edit-one",size:16}),children:"Remotely Reset Hardware"})}),e.jsx(p,{title:"Are you sure to remotely reset software?",onConfirm:()=>x(),children:e.jsx(a,{className:"mr-2",icon:e.jsx(t,{icon:"mynaui:edit-one",size:16}),children:"Remotely Reset Software"})})]})]})}),e.jsxs(N.Group,{className:"layout-switch",value:k,onChange:s=>B(s.target.value),children:[e.jsx(N.Button,{value:"list",children:e.jsxs("div",{className:"layout-switch-item",children:[e.jsx(t,{icon:"mynaui:list",size:20}),"List"]})}),e.jsx(N.Button,{value:"grid",children:e.jsxs("div",{className:"layout-switch-item",children:[e.jsx(t,{icon:"proicons:grid",size:20}),"Grid"]})})]})]}),k==="list"?e.jsx(_,{columns:F,dataSource:y,bordered:!0,expandable:{expandedRowRender:T,defaultExpandedRowKeys:y.map(s=>s.key)},rowSelection:{selectedRowKeys:o,onChange:D},pagination:{total:y.length,showSizeChanger:!0,showQuickJumper:!0,showTotal:s=>`Total ${s} items`}}):e.jsx("div",{className:"grid",children:y.map(s=>e.jsx("div",{className:"grid-item",children:e.jsxs(X,{children:[e.jsxs("div",{className:"grid-top flex items-center",children:[e.jsx(P,{checked:o.includes(s.key),onChange:i=>{const j=i.target.checked?[...o,s.key]:o.filter(b=>b!==s.key);f(j)}}),e.jsx($,{src:L,preview:!1,height:184,className:"entity-image object-cover"})]}),e.jsxs("div",{className:"grid-bottom",children:[e.jsx(a,{type:"link",className:"detail-link",onClick:()=>{S(s),v(!0)},children:s.name}),e.jsxs("div",{className:"display-item",children:[e.jsx("span",{className:"label",children:"SN:"})," ",e.jsx("span",{className:"value",children:s.cp_sn})]}),e.jsxs("div",{className:"display-item",children:[e.jsx("span",{className:"label",children:"Brand:"})," ",e.jsx("span",{className:"value",children:s.brand})]}),e.jsxs("div",{className:"display-item",children:[e.jsx("span",{className:"label",children:"Model:"})," ",e.jsx("span",{className:"value",children:s.brand_model})]}),e.jsxs("div",{className:"display-item flex-col !items-start",children:[e.jsx("span",{className:"label",children:"Connectors:"}),s.connectors.map(i=>e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"connectors",children:[e.jsx(P,{checked:u.includes(i.key),onChange:j=>{const b=j.target.checked?[...u,i.key]:u.filter(Y=>Y!==i.key);g(b)}}),e.jsxs("div",{className:"items flex-auto",children:[e.jsxs("div",{className:"display-item",children:[e.jsx("span",{className:"label",children:"ID:"})," ",e.jsx("span",{className:"value",children:i.connector_id})]}),e.jsxs("div",{className:"display-item",children:[e.jsx("span",{className:"label",children:"Status:"})," ",e.jsx("span",{className:"value",children:i.status})]})]})]}),e.jsxs("div",{className:"operation-columns",children:[e.jsxs("div",{className:"operation-row",children:[e.jsx(a,{type:"link",className:"split",icon:e.jsx(t,{icon:"f7:play-circle",size:16}),onClick:()=>m(!0),children:"Start"}),e.jsx(p,{title:"Are you sure to stop?",onConfirm:()=>x(),children:e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"lucide:circle-pause",size:16}),children:"Stop"})})]}),e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"hugeicons:settings-02",size:16}),onClick:()=>d(!0),children:"Set Charge Profile"}),e.jsx(a,{type:"link",icon:e.jsx(t,{icon:"mynaui:edit-one",size:16}),onClick:()=>h(!0),children:"Edit Connector Availability"})]})]},i.key))]})]})]},s.key)}))}),e.jsx(Q,{visible:E,onCancel:()=>d(!1),onConfirm:()=>{d(!1)}}),e.jsx(H,{visible:I,onCancel:()=>h(!1),onConfirm:s=>{h(!1)}}),e.jsx(G,{visible:z,onCancel:()=>v(!1),chargePoint:V,onStart:()=>m(!0),onSetChargeProfile:()=>d(!0),onEditConnector:()=>h(!0),isAdmin:M}),e.jsx(J,{visible:K,onCancel:()=>m(!1),onConfirm:()=>{m(!1)}})]})}export{he as default};
