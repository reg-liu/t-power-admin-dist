import{u as N,g as v,h as S,i as t,j as e,S as b}from"./index-3_qVLhXE.js";import{r as o}from"./vendor-react-DcqtUZ_G.js";import{x as m,H as a,K as i,i as c,V as I,W as d,y as E}from"./vendor-antd-BiNc4BQP.js";import"./vendor-ui-BASYQBt4.js";import"./vendor-utils-DcB4TerO.js";function k(){const{t:s}=N(),[u,r]=o.useState(!1),[l,h]=o.useState("email"),{loginState:x,setLoginState:g}=v(),p=S();if(x!==t.LOGIN)return null;const j=async({phone:n,email:f,password:w})=>{r(!0);try{await p({username:l==="phone"?n:f,password:w})}finally{r(!1)}},y=e.jsx("div",{className:"country-code-wrapper",children:e.jsx("span",{className:"text",children:"+61"})});return e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 text-2xl font-bold xl:text-3xl",children:s("sys.login.signInFormTitle")}),e.jsx(m.Group,{className:"login-switch",value:l,onChange:n=>h(n.target.value),children:e.jsx(m.Button,{value:"email",className:"switch-item",children:e.jsxs("div",{className:"item-inner",children:[e.jsx(b,{icon:l==="email"?"email-active":"email",size:"14"}),s("sys.login.email")]})})}),e.jsxs(a,{name:"login",size:"large",layout:"vertical",className:"login-form",initialValues:{remember:!0,username:"",password:""},onFinish:j,children:[e.jsx("div",{className:"mb-4 flex flex-col"}),l==="phone"?e.jsx(a.Item,{name:"phone",label:s("sys.login.phone"),rules:[{required:!0,message:s("sys.login.phonePlaceholder")},{pattern:/^\d{9,}$/,message:s("sys.login.phoneValidate")}],children:e.jsx(i,{placeholder:"Enter",addonBefore:y,allowClear:!0})}):e.jsx(a.Item,{name:"email",label:s("sys.login.email"),rules:[{required:!0,message:s("sys.login.emailPlaceholder")}],children:e.jsx(i,{placeholder:"Enter"})}),e.jsx(a.Item,{name:"password",label:s("sys.login.password"),rules:[{required:!0,message:s("sys.login.passwordPlaceholder")}],children:e.jsx(i.Password,{type:"password",placeholder:"Enter"})}),e.jsx(c,{type:"primary",htmlType:"submit",className:"w-full",loading:u,children:s("sys.login.loginButton")}),e.jsxs(I,{align:"middle",className:"py-[22px]",children:[e.jsx(d,{span:12,children:e.jsx(a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:e.jsx(E,{children:s("sys.login.rememberMe")})})}),e.jsx(d,{span:12,className:"text-right",children:e.jsx(c,{type:"link",className:"!underline",onClick:()=>g(t.RESET_PASSWORD),size:"small",children:s("sys.login.forgetPassword")})})]})]})]})}export{k as default};
