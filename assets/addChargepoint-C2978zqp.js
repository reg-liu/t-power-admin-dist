import{j as e}from"./index-Kl0H17LA.js";import{r as b}from"./vendor-react-DcqtUZ_G.js";import{U as t,N as C,I as s,V as f,k as i,W as o}from"./vendor-antd-OpNfoHdu.js";import"./vendor-ui-BASYQBt4.js";import"./vendor-utils-Bhh-Zc6H.js";function F({visible:d,onCancel:c,onConfirm:m}){const[a]=t.useForm(),[n,u]=b.useState([]),h=()=>{a.validateFields().then(r=>{m({...r,picture:n[0]})}).catch(r=>{})},p=({fileList:r})=>{u(r)},x=e.jsxs("div",{children:[e.jsx(o,{}),e.jsx("div",{style:{marginTop:8},children:"Upload"})]});return e.jsx(C,{title:"Add New Chargepoint",visible:d,onCancel:c,onOk:h,children:e.jsxs(t,{form:a,layout:"vertical",children:[e.jsx(t.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name!"}],children:e.jsx(s,{})}),e.jsx(t.Item,{name:"cp_sn",label:"SN",rules:[{required:!0,message:"Please input the SN!"}],children:e.jsx(s,{})}),e.jsx(t.Item,{name:"picture",label:"Picture",children:e.jsx(f,{listType:"picture-card",fileList:n,onChange:p,beforeUpload:()=>!1,children:n.length>=1?null:x})}),e.jsx(t.Item,{name:"brand",label:"Brand",rules:[{required:!0,message:"Please input the brand!"}],children:e.jsx(s,{})}),e.jsx(t.Item,{name:"model",label:"Model",rules:[{required:!0,message:"Please input the model!"}],children:e.jsx(s,{})}),e.jsx(t.Item,{name:"charge_model",label:"Charge Model",rules:[{required:!0,message:"Please input the charge model!"}],children:e.jsx(s,{})}),e.jsx(t.Item,{name:"position",label:"Position",rules:[{required:!0,message:"Please input the position!"}],children:e.jsx(s,{})}),e.jsx(t.List,{name:"connectors",children:(r,{add:j,remove:g})=>e.jsxs(e.Fragment,{children:[r.map((l,I)=>e.jsxs(t.Item,{required:!1,label:I===0?"Connectors":"",children:[e.jsx(t.Item,{...l,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input connector's name or delete this field."}],noStyle:!0,children:e.jsx(s,{placeholder:"Connector name",style:{width:"60%"}})}),r.length>1&&e.jsx(i,{type:"link",onClick:()=>g(l.name),children:"Delete"})]},l.key)),r.length<3&&e.jsx(t.Item,{children:e.jsx(i,{type:"dashed",onClick:()=>j(),block:!0,icon:e.jsx(o,{}),children:"Add Connector"})})]})})]})})}export{F as default};
