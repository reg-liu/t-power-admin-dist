import{f as p,j as a}from"./index-DloVt6EI.js";import{r as t}from"./vendor-react-BcJS7s_i.js";import{O as n,K as B,w as r,I as c}from"./vendor-antd-DouGSysN.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-Cpch6Ee7.js";const{Option:m}=r;function D({visible:h,onClose:d}){const[l]=n.useForm(),x=p(),i=t.useRef(null),[o,j]=t.useState(""),[s,b]=t.useState({brand:"",model:"",year:""}),u=[{value:"Tesla",models:["Model S","Model 3","Model X"]},{value:"Nissan",models:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"]},{value:"BYD",models:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]}];t.useEffect(()=>{if(i.current){const e=i.current.getContext("2d");e&&(e.clearRect(0,0,100,100),e.font="12px Arial",e.fillText(s.brand,10,20),e.fillText(s.model,10,40),e.fillText(s.year,10,60))}},[s]);const v=()=>{const e=l.getFieldsValue();b({brand:e.brand||"",model:e.brand_model||"",year:e.year||""})},f=e=>{j(e),l.setFieldsValue({brand_model:void 0})};return a.jsx(B,{title:"Bind a new EV",visible:h,onCancel:d,onOk:()=>{l.validateFields().then(e=>{d()})},children:a.jsxs(n,{form:l,layout:"vertical",onValuesChange:v,children:[a.jsx(n.Item,{name:"brand",label:"Brand",rules:[{required:!0}],children:a.jsx(r,{onChange:f,children:u.map(e=>a.jsx(m,{value:e.value,children:e.value},e.value))})}),a.jsx(n.Item,{name:"brand_model",label:"Brand Model",rules:[{required:!0}],children:a.jsx(r,{disabled:!o,children:u.find(e=>e.value===o)?.models.map(e=>a.jsx(m,{value:e,children:e},e))})}),a.jsx(n.Item,{name:"year",label:"Year",rules:[{required:!0}],children:a.jsx(r,{children:[2020,2021,2022,2023].map(e=>a.jsx(r.Option,{value:e,children:e},e))})}),a.jsx(n.Item,{label:"Photo",children:a.jsx("canvas",{ref:i,width:100,height:100})}),a.jsx(n.Item,{name:"registration_number",label:"Registration Number",rules:[{required:!0}],children:a.jsx(c,{})}),a.jsx(n.Item,{name:"vin",label:"VIN",rules:[{required:!0}],children:a.jsx(c,{})}),x&&a.jsx(n.Item,{name:"user",label:"User",rules:[{required:!0}],children:a.jsxs(r,{children:[a.jsx(r.Option,{value:"john",children:"John Doe"}),a.jsx(r.Option,{value:"jane",children:"Jane Smith"}),a.jsx(r.Option,{value:"bob",children:"Bob Johnson"})]})})]})})}export{D as default};
