import{j as e}from"./index-D-ofxrX4.js";import{r as i}from"./vendor-react-BcJS7s_i.js";import D from"./detail-DCM5BjnN.js";import E from"./editBrandModel-B_12llsQ.js";import{w as f,I as C,k as r,P as y,x as A,y as I,z as g,E as M,F as V,H as P,l as Y,Q as R,N as F,J as L}from"./vendor-antd-mvdqVON1.js";import"./vendor-ui-DPkccqlC.js";import"./vendor-utils-CxBTGS1X.js";import"./addBrand-DrSoXVDg.js";const{Option:u}=f,O=[{id:1,brand:"Tesla",brand_model:"Model S",class:"Sedan",year:2022,plug_type:"Type 2",battery_capacity:100},{id:2,brand:"Nissan",brand_model:"Nissan LEAF",class:"Hatchback",year:2021,plug_type:"CHAdeMO",battery_capacity:62},{id:3,brand:"BYD",brand_model:"BYD Tang EV",class:"SUV",year:2023,plug_type:"GB/T",battery_capacity:86.4}],N=[{value:"Tesla",models:["Model S","Model 3","Model X"]},{value:"Nissan",models:["Nissan LEAF","Nissan Ariya","Nissan e-NV200"]},{value:"BYD",models:["BYD Tang EV","BYD Qin EV","BYD Yuan EV"]}];function X(){const[l,c]=i.useState({brand:"",brand_model:"",class:"",plug_type:""}),[v,k]=i.useState("list"),[d,o]=i.useState([]),[_,m]=i.useState(!1),[w,h]=i.useState(!1),[p,b]=i.useState(null),[t,j]=i.useState(O),S=()=>{},x=a=>{j(t.filter(s=>!a.includes(s.id))),o([])},B=[{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Brand Model",dataIndex:"brand_model",key:"brand_model",render:(a,s)=>e.jsx(r,{type:"link",onClick:()=>{b(s),m(!0)},children:a})},{title:"Class",dataIndex:"class",key:"class"},{title:"Year",dataIndex:"year",key:"year"},{title:"Plug Type",dataIndex:"plug_type",key:"plug_type"},{title:"Battery Capacity (Ah)",dataIndex:"battery_capacity",key:"battery_capacity"},{title:"Operation",key:"operation",render:(a,s)=>e.jsx(y,{title:"Are you sure to delete?",onConfirm:()=>x([s.id]),children:e.jsx(r,{type:"link",children:"Delete"})})}],T=a=>{const s=document.createElement("canvas");s.width=100,s.height=100;const n=s.getContext("2d");return n&&(n.font="14px Arial",n.fillText(a.brand,10,30),n.fillText(a.brand_model,10,50),n.fillText(a.year.toString(),10,70)),s.toDataURL()};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"search-area mb-6 flex flex-wrap justify-between",children:[e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Brand"}),e.jsxs(f,{className:"w-full",value:l.brand,onChange:a=>c({...l,brand:a,brand_model:""}),children:[e.jsx(u,{value:"",children:"All"}),N.map(a=>e.jsx(u,{value:a.value,children:a.value},a.value))]})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Brand Model"}),e.jsxs(f,{className:"w-full",value:l.brand_model,disabled:!l.brand,onChange:a=>c({...l,brand_model:a}),children:[e.jsx(u,{value:"",children:"All"}),N.find(a=>a.value===l.brand)?.models.map(a=>e.jsx(u,{value:a,children:a},a))]})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Class"}),e.jsx(C,{value:l.class,onChange:a=>c({...l,class:a.target.value})})]}),e.jsxs("div",{className:"search-item mb-4 w-1/5 pr-4",children:[e.jsx("label",{className:"mb-2 block",children:"Plug Type"}),e.jsx(C,{value:l.plug_type,onChange:a=>c({...l,plug_type:a.target.value})})]}),e.jsx("div",{className:"search-btn mb-4 ml-auto flex w-1/5 items-end justify-end pr-4",children:e.jsx(r,{type:"primary",onClick:S,className:"mt-6",children:"Search"})})]}),e.jsxs("div",{className:"mb-4 flex justify-between",children:[e.jsx("div",{children:d.length>0&&e.jsx(y,{title:"Are you sure you want to unbind selected EVs?",onConfirm:()=>{},okText:"Yes",cancelText:"No",children:e.jsx(r,{icon:e.jsx(A,{}),onClick:()=>x(d.map(a=>a.id)),disabled:d.length===0,children:"Delete"})})}),e.jsxs("div",{children:[e.jsx(r,{icon:e.jsx(I,{}),onClick:()=>{b(null),h(!0)},className:"mr-2",children:"Create Brand Model"}),e.jsxs(g.Group,{value:v,onChange:a=>k(a.target.value),children:[e.jsxs(g.Button,{value:"list",children:[e.jsx(M,{})," List"]}),e.jsxs(g.Button,{value:"grid",children:[e.jsx(V,{})," Grid"]})]})]})]}),v==="list"?e.jsx(P,{columns:B,dataSource:t,rowKey:"id",rowSelection:{type:"checkbox",onChange:(a,s)=>o(s)}}):e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:t.map(a=>e.jsxs(Y,{className:"flex flex-col",children:[e.jsx(R,{className:"mb-2",onChange:s=>{s.target.checked?o([...d,a]):o(d.filter(n=>n.id!==a.id))}}),e.jsx(F,{src:T(a),width:100,height:100}),e.jsxs("p",{children:[e.jsx("strong",{children:"Brand:"})," ",a.brand]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Brand Model:"}),e.jsx(r,{type:"link",onClick:()=>{b(a),m(!0)},children:a.brand_model})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Class:"})," ",a.class]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Year:"})," ",a.year]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Plug Type:"})," ",a.plug_type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Battery Capacity:"})," ",a.battery_capacity," Ah"]}),e.jsx(y,{title:"Are you sure to delete?",onConfirm:()=>x([a.id]),children:e.jsx(r,{type:"link",children:"Delete"})})]},a.id))}),e.jsx(L,{className:"mt-4",total:t.length,showSizeChanger:!0,showQuickJumper:!0,showTotal:a=>`Total ${a} items`}),e.jsx(D,{visible:_,onCancel:()=>m(!1),record:p,onEdit:()=>{h(!0)},onDelete:a=>{x([a]),m(!1)}}),e.jsx(E,{visible:w,onCancel:()=>h(!1),record:p,onSave:a=>{j(p?t.map(s=>s.id===a.id?a:s):[...t,{...a,id:Math.max(...t.map(s=>s.id))+1}]),h(!1)}})]})}export{X as default};
